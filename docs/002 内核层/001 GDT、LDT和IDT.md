 GDT、LDT和IDT表都是描述符表。描述符表是由若干个描述符组成，每个描述符占用8个字节的内存空间，每个描述符表内最多可以有（8K）8129个描述符。描述符是描述一个段的大小,地址及各种状态的。

# GDT

全局描述表（GDT Global Descriptor Table）。在整个系统中，全局描述符表GDT只有一张(一个处理器对应一个GDT)，GDT可以被放在内存的任何位置。系统用GDTR寄存器存放当前GDT表的基地址。在保护模式下，对一个段的描述包括3个方面的因素：Base Address、Limit、Access，它们加在一起被放在一个64-bit长的数据结构中，被称为段描述符。段描述符结构如下：

![GDT](https://img.ansore.top/2022/07/16/905187cc02cb7aed4156b74d2d9b4e5b.png)

段描述符使用数组存储，使用LGDT指令将GDT的入口地址装入GDTR寄存器。

段选择子是一个16位的数据结构，其索引号作为GDT表的下标，索引号只有13位，所以GDT表最多有8192个元素，其结构如下：

![段选择子](https://img.ansore.top/2022/07/16/f2f5153bed0b2eecb342a35a3186936a.png)

# LDT

局部描述符表LDT（Local Descriptor Table）局部描述符表可以有若干张，每个任务可以有一张。在相应的段寄存器装入段选择子，安装索引号到GDT或LDT中找到对应的段描述符，得到Base Address再加上Offset，就得到了内存地址。

由于每个进程都有自己的一套程序段、数据段、堆栈段，有了局部描述符表则可以将每个进程的程序段、数据段、堆栈段封装在一起，只要改变LDTR就可以实现对不同进程的段进行访问。

# IDT

IDT，Interrupt Descriptor Table，即中断描述符表，和GDT类似，他记录了0~255的中断号和调用函数之间的关系。整个系统IDT表也只有一张，GDT表也可以被放在内存的任何位置寄存器。IDTR寄存器存放IDT表的基地址。x86CPU最大可以支持256种中断ISR(中断处理程序)，每个表项为8字节。Intel指定或保留了前32个中断号的作用，操作系统可以指定其余的中断号的作用。

![IDT](https://img.ansore.top/2022/07/16/da9f7dab19119141e7e889eafcc51adb.png)
